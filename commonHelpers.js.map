{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["// Описаний в документації\nimport flatpickr from \"flatpickr\";\n// Додатковий імпорт стилів\nimport \"flatpickr/dist/flatpickr.min.css\";\n\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nlet userSelectedDate;\nconst btnStart = document.querySelector(\"button[data-start]\");\nconst days = document.querySelector(\"span[data-days]\");\nconst hours = document.querySelector(\"span[data-hours]\");\nconst minutes = document.querySelector(\"span[data-minutes]\");\nconst seconds = document.querySelector(\"span[data-seconds]\");\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        const date = new Date();\n        if (selectedDates[0] < date) {\n            btnStart.disabled = true;\n            iziToast.error({\n                title: 'Error',\n                message: 'Please choose a date in the future'\n            });\n        }\n        else {\n            btnStart.disabled = false;\n        }\n        userSelectedDate = selectedDates[0];\n        console.log(selectedDates[0]);\n    },\n};\n\nflatpickr(\"#datetime-picker\", options);\nconst flatpickrInput = document.querySelector(\".flatpickr-mobile\")\n\nbtnStart.addEventListener(\"click\", () => {\n    btnStart.disabled = true;\n    flatpickrInput.disabled = true;\n    const intervalId = setInterval(() => {\n        startTimer();\n        if (startTimer() == false) {\n            clearInterval(intervalId);\n        }\n    }, 1000);\n\n});\n\nfunction startTimer() {\n    const nowDate = new Date();\n    const differenceInMs = userSelectedDate.getTime() - nowDate.getTime();\n    const fullDate = convertMs(differenceInMs);\n    days.textContent = addLeadingZero(fullDate.days, 2);\n    hours.textContent = addLeadingZero(fullDate.hours, 2);\n    minutes.textContent = addLeadingZero(fullDate.minutes, 2);\n    seconds.textContent = addLeadingZero(fullDate.seconds, 2);\n    if (differenceInMs < 1500) {\n        return false;\n    }\n}\n\nfunction addLeadingZero(value, targetLength) {\n    if (value < 10 || value >= 100) {\n        return value.toString().padStart(targetLength, \"0\");\n    }\n    else {\n        return value;\n    }\n\n}\n\n\nfunction convertMs(ms) {\n    // Number of milliseconds per unit of time\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n\n    // Remaining days\n    const days = Math.floor(ms / day);\n    // Remaining hours\n    const hours = Math.floor((ms % day) / hour);\n    // Remaining minutes\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    // Remaining seconds\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n    return { days, hours, minutes, seconds };\n}\n\n"],"names":["userSelectedDate","btnStart","days","hours","minutes","seconds","options","selectedDates","date","iziToast","flatpickr","flatpickrInput","intervalId","startTimer","nowDate","differenceInMs","fullDate","convertMs","addLeadingZero","value","targetLength","ms"],"mappings":"+IAWA,IAAIA,EACJ,MAAMC,EAAW,SAAS,cAAc,oBAAoB,EACtDC,EAAO,SAAS,cAAc,iBAAiB,EAC/CC,EAAQ,SAAS,cAAc,kBAAkB,EACjDC,EAAU,SAAS,cAAc,oBAAoB,EACrDC,EAAU,SAAS,cAAc,oBAAoB,EAErDC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnB,MAAMC,EAAO,IAAI,KACbD,EAAc,CAAC,EAAIC,GACnBP,EAAS,SAAW,GACpBQ,EAAS,MAAM,CACX,MAAO,QACP,QAAS,oCACzB,CAAa,GAGDR,EAAS,SAAW,GAExBD,EAAmBO,EAAc,CAAC,EAClC,QAAQ,IAAIA,EAAc,CAAC,CAAC,CAC/B,CACL,EAEAG,EAAU,mBAAoBJ,CAAO,EACrC,MAAMK,EAAiB,SAAS,cAAc,mBAAmB,EAEjEV,EAAS,iBAAiB,QAAS,IAAM,CACrCA,EAAS,SAAW,GACpBU,EAAe,SAAW,GAC1B,MAAMC,EAAa,YAAY,IAAM,CACjCC,IACIA,EAAY,GAAI,IAChB,cAAcD,CAAU,CAE/B,EAAE,GAAI,CAEX,CAAC,EAED,SAASC,GAAa,CAClB,MAAMC,EAAU,IAAI,KACdC,EAAiBf,EAAiB,QAAS,EAAGc,EAAQ,QAAO,EAC7DE,EAAWC,EAAUF,CAAc,EAKzC,GAJAb,EAAK,YAAcgB,EAAeF,EAAS,KAAM,CAAC,EAClDb,EAAM,YAAce,EAAeF,EAAS,MAAO,CAAC,EACpDZ,EAAQ,YAAcc,EAAeF,EAAS,QAAS,CAAC,EACxDX,EAAQ,YAAca,EAAeF,EAAS,QAAS,CAAC,EACpDD,EAAiB,KACjB,MAAO,EAEf,CAEA,SAASG,EAAeC,EAAOC,EAAc,CACzC,OAAID,EAAQ,IAAMA,GAAS,IAChBA,EAAM,SAAU,EAAC,SAASC,EAAc,GAAG,EAG3CD,CAGf,CAGA,SAASF,EAAUI,EAAI,CAQnB,MAAMnB,EAAO,KAAK,MAAMmB,EAAK,KAAG,EAE1BlB,EAAQ,KAAK,MAAOkB,EAAK,MAAO,IAAI,EAEpCjB,EAAU,KAAK,MAAQiB,EAAK,MAAO,KAAQ,GAAM,EAEjDhB,EAAU,KAAK,MAASgB,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAnB,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAC1C"}